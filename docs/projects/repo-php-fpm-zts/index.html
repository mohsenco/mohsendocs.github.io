<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.60">
<title data-react-helmet="true">PHP + FPM + ZTS | Mohsen Mottaghi</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="PHP + FPM + ZTS | Mohsen Mottaghi"><meta data-react-helmet="true" name="description" content="The repository of this docs is on GitHub https://github.com/mohsenmottaghi/php-fpm-zts"><meta data-react-helmet="true" property="og:description" content="The repository of this docs is on GitHub https://github.com/mohsenmottaghi/php-fpm-zts"><meta data-react-helmet="true" property="og:url" content="https://docs.mohsen.co/docs/projects/repo-php-fpm-zts"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.mohsen.co/docs/projects/repo-php-fpm-zts"><link rel="stylesheet" href="/styles.479142a7.css">
<link rel="preload" href="/styles.f6175146.js" as="script">
<link rel="preload" href="/runtime~main.c4909bf0.js" as="script">
<link rel="preload" href="/main.c236d473.js" as="script">
<link rel="preload" href="/1.99c13089.js" as="script">
<link rel="preload" href="/2.64f099d2.js" as="script">
<link rel="preload" href="/01a85c17.25c65be1.js" as="script">
<link rel="preload" href="/1be78505.5e1c28a0.js" as="script">
<link rel="preload" href="/4c188dba.9bc827a2.js" as="script">
<link rel="preload" href="/6875c492.abca8e72.js" as="script">
<link rel="preload" href="/a6aa9e1f.dceb0351.js" as="script">
<link rel="preload" href="/c4f5d8e4.baddddc6.js" as="script">
<link rel="preload" href="/ccc49370.f37b3578.js" as="script">
<link rel="preload" href="/40.3e418612.js" as="script">
<link rel="preload" href="/39.81d7e326.js" as="script">
<link rel="preload" href="/20ac7829.0976cfcf.js" as="script">
<link rel="preload" href="/17896441.66324db5.js" as="script">
<link rel="preload" href="/af902b2e.90e744bf.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/mohsen-logo-blue.png" alt="MOHSEN Logo"><strong class="navbar__title">Mohsen</strong></a><a href="https://mohsen.co" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/index">Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx moon_6SPT"></span></div><div class="react-toggle-track-x"><span class="toggle_BsTx sun_152_"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/mohsen-logo-blue.png" alt="MOHSEN Logo"><strong class="navbar__title">Mohsen</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://mohsen.co" target="_blank" rel="noopener noreferrer" class="menu__link">Home</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/index">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Home</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/index">Welcome to docs</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Projects</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/repo-cloak-shadowsocks-docker">Cloak Shadowsocks Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/repo-container-stress">Container Stress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/repo-docker-openresty-prometheus">Docker Openresty Prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/repo-docker-web-stack-with-mysql-nginx-proxy">Docker web stack with mysql nginx proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/repo-mtu_ips_bypass">MTU IPS Bypass</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/repo-nginx-pagespeed">NGINX Pagespeed</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/projects/repo-php-fpm-zts">PHP + FPM + ZTS</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">PHP + FPM + ZTS</h1></header><div class="markdown"><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>The repository of this docs is on GitHub <a href="https://github.com/mohsenmottaghi/php-fpm-zts" target="_blank" rel="noopener noreferrer">https://github.com/mohsenmottaghi/php-fpm-zts</a></p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>This docs is not ready</p></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="dockerfile-php-fpm-with-zts"></a>Dockerfile PHP-FPM with ZTS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dockerfile-php-fpm-with-zts" title="Direct link to heading">#</a></h1><p><img src="https://img.shields.io/badge/PHP_Version-7.4-darkgreen.svg" alt="Generic badge"> <img src="https://img.shields.io/badge/PHP_Version-7.3-darkgreen.svg" alt="Generic badge"> <img src="https://img.shields.io/badge/PHP_Version-7.2-darkgreen.svg" alt="Generic badge"> <img src="https://img.shields.io/badge/Automatic_Build-OK-%3CCOLOR%3E.svg" alt="Generic badge"> <img src="https://img.shields.io/badge/Project_phase-BETA-blue.svg" alt="Generic badge"></p><p>This repo cloned from <code>docker-library/php</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="build-status"></a>Build Status<a aria-hidden="true" tabindex="-1" class="hash-link" href="#build-status" title="Direct link to heading">#</a></h2><table><thead><tr><th>Dockerfile</th><th>Base Image</th><th>PHP Version</th><th>Tag</th><th>Docker Hub Build</th><th>GitHub Build</th></tr></thead><tbody><tr><td>7.4/buster/Dockerfile</td><td>debian:buster-slim</td><td>7.4</td><td>latest</td><td><img src="https://img.shields.io/badge/Build_DockerHub-Pass-%3CCOLOR%3E.svg" alt="Generic badge"></td><td><img src="https://github.com/mohsenmottaghi/php-fpm-zts/workflows/Dockerfile%20Debian%20Buster%20-%20Latest%20CI/badge.svg" alt="Dockerfile Debian Buster - Latest CI"></td></tr><tr><td>7.4/buster/Dockerfile</td><td>debian:buster-slim</td><td>7.4</td><td>7.4</td><td><img src="https://img.shields.io/badge/Build_DockerHub-Pass-%3CCOLOR%3E.svg" alt="Generic badge"></td><td><img src="https://github.com/mohsenmottaghi/php-fpm-zts/workflows/Dockerfile%20Debian%20Buster%20-%207.4%20CI/badge.svg" alt="Dockerfile Debian Buster - 7.4 CI"></td></tr><tr><td>7.3/buster/Dockerfile</td><td>debian:buster-slim</td><td>7.3</td><td>7.3</td><td><img src="https://img.shields.io/badge/Build_DockerHub-Pass-%3CCOLOR%3E.svg" alt="Generic badge"></td><td><img src="https://github.com/mohsenmottaghi/php-fpm-zts/workflows/Dockerfile%20Debian%20Buster%20-%207.3%20CI/badge.svg" alt="Dockerfile Debian Buster - 7.3 CI"></td></tr><tr><td>7.2/buster/Dockerfile</td><td>debian:buster-slim</td><td>7.2</td><td>7.2</td><td><img src="https://img.shields.io/badge/Build_DockerHub-Pass-%3CCOLOR%3E.svg" alt="Generic badge"></td><td><img src="https://github.com/mohsenmottaghi/php-fpm-zts/workflows/Dockerfile%20Debian%20Buster%20-%207.2%20CI/badge.svg" alt="Dockerfile Debian Buster - 7.2 CI"></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="how-to-use-this-image"></a>How to use this image<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-use-this-image" title="Direct link to heading">#</a></h2><p>Create a Dockerfile in your PHP project.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM mohsenmottaghi/php-fpm-zts:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">COPY . /var/www/html</span></div></div></div></div></div><p>Then, run the commands to build and run the Docker image:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker build -t my-php-app .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker run -it --rm --name my-running-app my-php-app</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="how-to-install-more-php-extensions"></a>How to install more PHP extensions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-install-more-php-extensions" title="Direct link to heading">#</a></h2><p>Many extensions are already compiled into the image, so it&#x27;s worth checking the output of php -m or php -i before going through the effort of compiling more.</p><p>We provide the helper scripts docker-php-ext-configure, docker-php-ext-install, and docker-php-ext-enable to more easily install PHP extensions.</p><p>In order to keep the images smaller, PHP&#x27;s source is kept in a compressed tar file. To facilitate linking of PHP&#x27;s source with any extension, we also provide the helper script docker-php-source to easily extract the tar or delete the extracted source. Note: if you do use docker-php-source to extract the source, be sure to delete it in the same layer of the docker image.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM mohsenmottaghi/php-fpm-zts:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN docker-php-source extract \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    # do important things \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-source delete</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="php-core-extensions"></a>PHP Core Extensions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#php-core-extensions" title="Direct link to heading">#</a></h3><p>For example, if you want to have a PHP-FPM image with the gd extension, you can inherit the base image that you like, and write your own Dockerfile like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM mohsenmottaghi/php-fpm-zts:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN apt-get update &amp;&amp; apt-get install -y \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        libfreetype6-dev \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        libjpeg62-turbo-dev \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        libpng-dev \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-ext-configure gd --with-freetype --with-jpeg \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-ext-install -j$(nproc) gd</span></div></div></div></div></div><p>Remember, you must install dependencies for your extensions manually. If an extension needs custom configure arguments, you can use the docker-php-ext-configure script like this example. There is no need to run docker-php-source manually in this case, since that is handled by the configure and install scripts.</p><p>If you are having difficulty figuring out which Debian or Alpine packages need to be installed before docker-php-ext-install, then have a look at <a href="https://github.com/mlocati/docker-php-extension-installer" target="_blank" rel="noopener noreferrer">the install-php-extensions project</a>. This script builds upon the docker-php-ext-* scripts and simplifies the installation of PHP extensions by automatically adding and removing Debian (apt) and Alpine (apk) packages. For example, to install the GD extension you simply have to run install-php-extensions gd. This tool is contributed by community members and is not included in the images, please refer to their Git repository for installation, usage, and issues.</p><p>See also &quot;<a href="https://tianon.xyz/post/2017/12/26/dockerize-compiled-software.html" target="_blank" rel="noopener noreferrer">Dockerizing Compiled Software</a>&quot; for a description of the technique Tianon uses for determining the necessary build-time dependencies for any bit of software (which applies directly to compiling PHP extensions).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="default-extensions"></a>Default extensions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#default-extensions" title="Direct link to heading">#</a></h3><p>Some extensions are compiled by default. This depends on the PHP version you are using. Run php -m in the container to get a list for your specific version.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pecl-extensions"></a>PECL extensions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pecl-extensions" title="Direct link to heading">#</a></h3><p>Some extensions are not provided with the PHP source, but are instead available through PECL. To install a PECL extension, use pecl install to download and compile it, then use docker-php-ext-enable to enable it:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM mohsenmottaghi/php-fpm-zts:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN pecl install redis-5.1.1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; pecl install xdebug-2.8.1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-ext-enable redis xdebug</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM mohsenmottaghi/php-fpm-zts:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN apt-get update &amp;&amp; apt-get install -y libmemcached-dev zlib1g-dev \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; pecl install memcached-2.2.0 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-ext-enable memcached</span></div></div></div></div></div><p>It is strongly recommended that users use an explicit version number in their pecl install invocations to ensure proper PHP version compatibility (PECL does not check the PHP version compatiblity when choosing a version of the extension to install, but does when trying to install it).</p><p>For example, memcached-2.2.0 has no PHP version constraints (<a href="https://pecl.php.net/package/memcached/2.2.0" target="_blank" rel="noopener noreferrer">https://pecl.php.net/package/memcached/2.2.0</a>), but memcached-3.1.4 requires PHP 7.0.0 or newer (<a href="https://pecl.php.net/package/memcached/3.1.4" target="_blank" rel="noopener noreferrer">https://pecl.php.net/package/memcached/3.1.4</a>). When doing pecl install memcached (no specific version) on PHP 5.6, PECL will try to install the latest release and fail.</p><p>Beyond the compatibility issue, it&#x27;s also a good practice to ensure you know when your dependencies receive updates and can control those updates directly.</p><p>Unlike PHP core extensions, PECL extensions should be installed in series to fail properly if something went wrong. Otherwise errors are just skipped by PECL. For example, pecl install memcached-3.1.4 &amp;&amp; pecl install redis-5.1.1 instead of pecl install memcached-3.1.4 redis-5.1.1. However, docker-php-ext-enable memcached redis is fine to be all in one command.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="other-extensions"></a>Other extensions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-extensions" title="Direct link to heading">#</a></h3><p>Some extensions are not provided via either Core or PECL; these can be installed too, although the process is less automated:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM mohsenmottaghi/php-fpm-zts:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN curl -fsSL &#x27;https://xcache.lighttpd.net/pub/Releases/3.2.0/xcache-3.2.0.tar.gz&#x27; -o xcache.tar.gz \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; mkdir -p xcache \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; tar -xf xcache.tar.gz -C xcache --strip-components=1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; rm xcache.tar.gz \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; ( \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cd xcache \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;&amp; phpize \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;&amp; ./configure --enable-xcache \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;&amp; make -j &quot;$(nproc)&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;&amp; make install \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ) \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; rm -r xcache \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-ext-enable xcache</span></div></div></div></div></div><p>The <code>docker-php-ext-*</code> scripts can accept an arbitrary path, but it must be absolute (to disambiguate from built-in extension names), so the above example could also be written as the following:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM mohsenmottaghi/php-fpm-zts:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN curl -fsSL &#x27;https://xcache.lighttpd.net/pub/Releases/3.2.0/xcache-3.2.0.tar.gz&#x27; -o xcache.tar.gz \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; mkdir -p /tmp/xcache \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; tar -xf xcache.tar.gz -C /tmp/xcache --strip-components=1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; rm xcache.tar.gz \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-ext-configure /tmp/xcache --enable-xcache \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; docker-php-ext-install /tmp/xcache \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;&amp; rm -r /tmp/xcache</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mohsenco/mohsendocs.github.io/docs/projects/repo-php-fpm-zts.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/projects/repo-nginx-pagespeed"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« NGINX Pagespeed</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#build-status" class="table-of-contents__link">Build Status</a></li><li><a href="#how-to-use-this-image" class="table-of-contents__link">How to use this image</a></li><li><a href="#how-to-install-more-php-extensions" class="table-of-contents__link">How to install more PHP extensions</a><ul><li><a href="#php-core-extensions" class="table-of-contents__link">PHP Core Extensions</a></li><li><a href="#default-extensions" class="table-of-contents__link">Default extensions</a></li><li><a href="#pecl-extensions" class="table-of-contents__link">PECL extensions</a></li><li><a href="#other-extensions" class="table-of-contents__link">Other extensions</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4></div><div class="col footer__col"><h4 class="footer__title">Links</h4></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mohsenmottaghi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/motmohsen" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://instagram.com/mohsenmottaghi_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram</a></li><li class="footer__item"><a href="https://t.me/mohsenmottaghi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 MOHSEN</div></div></div></footer></div>
<script src="/styles.f6175146.js"></script>
<script src="/runtime~main.c4909bf0.js"></script>
<script src="/main.c236d473.js"></script>
<script src="/1.99c13089.js"></script>
<script src="/2.64f099d2.js"></script>
<script src="/01a85c17.25c65be1.js"></script>
<script src="/1be78505.5e1c28a0.js"></script>
<script src="/4c188dba.9bc827a2.js"></script>
<script src="/6875c492.abca8e72.js"></script>
<script src="/a6aa9e1f.dceb0351.js"></script>
<script src="/c4f5d8e4.baddddc6.js"></script>
<script src="/ccc49370.f37b3578.js"></script>
<script src="/40.3e418612.js"></script>
<script src="/39.81d7e326.js"></script>
<script src="/20ac7829.0976cfcf.js"></script>
<script src="/17896441.66324db5.js"></script>
<script src="/af902b2e.90e744bf.js"></script>
</body>
</html>