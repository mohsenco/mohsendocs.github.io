(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{118:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return s}));var n=a(1),r=a(6),b=(a(0),a(140)),c={id:"repo-cloak-shadowsocks-docker",title:"Cloak Shadowsocks Docker",sidebar_label:"Cloak Shadowsocks Docker"},l={id:"projects/repo-cloak-shadowsocks-docker",title:"Cloak Shadowsocks Docker",description:":::important\r",source:"@site/docs/projects/repo-cloak-shadowsocks-docker.md",permalink:"/docs/projects/repo-cloak-shadowsocks-docker",editUrl:"https://github.com/mohsenco/mohsendocs.github.io/docs/projects/repo-cloak-shadowsocks-docker.md",sidebar_label:"Cloak Shadowsocks Docker",sidebar:"someSidebar",previous:{title:"Welcome to docs",permalink:"/docs/index"},next:{title:"Container Stress",permalink:"/docs/projects/repo-container-stress"}},o=[{value:"Cloak Server",id:"cloak-server",children:[]},{value:"Cloak Client",id:"cloak-client",children:[]},{value:"ShadoSocks Server",id:"shadosocks-server",children:[]},{value:"ShadowSocks Client",id:"shadowsocks-client",children:[{value:"Server",id:"server",children:[]},{value:"Client",id:"client",children:[]},{value:"Server",id:"server-1",children:[]},{value:"Client",id:"client-1",children:[]}]},{value:"GitHub CI",id:"github-ci",children:[]}],i={rightToc:o};function s(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(b.b)("wrapper",Object(n.a)({},i,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("div",{className:"admonition admonition-important alert alert--info"},Object(b.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(b.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"The repository of this docs is on GitHub ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/mohsenmottaghi/cloak-shadowsocks-docker"}),"https://github.com/mohsenmottaghi/cloak-shadowsocks-docker")))),Object(b.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(b.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(b.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(b.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"This docs is not ready"))),Object(b.b)("h1",{id:"cloak-with-shadowsocks-on-docker"},"Cloak with Shadowsocks on Docker"),Object(b.b)("p",null,Object(b.b)("img",Object(n.a)({parentName:"p"},{src:"https://img.shields.io/badge/Cloak_version-2.1.2-blue",alt:"Cloak version"})),"\n",Object(b.b)("img",Object(n.a)({parentName:"p"},{src:"https://img.shields.io/badge/ShadowSocks_version-0.0.1.1-blue",alt:"ShadowSocks version"})),"\n",Object(b.b)("img",Object(n.a)({parentName:"p"},{src:"https://img.shields.io/badge/Dockerfile-Ready-brightgreen",alt:"Dockerfile"})),"\n",Object(b.b)("img",Object(n.a)({parentName:"p"},{src:"https://img.shields.io/badge/Docker_Compose-Ready-brightgreen",alt:"Docker Compose"})),"\n",Object(b.b)("img",Object(n.a)({parentName:"p"},{src:"https://img.shields.io/badge/Docker_Build-Automatic-brightgreen",alt:"Docker Build"})),"\n",Object(b.b)("img",Object(n.a)({parentName:"p"},{src:"https://img.shields.io/badge/Project_code_name-Robe-purple",alt:"Project Name"}))),Object(b.b)("hr",null),Object(b.b)("p",null,"Project Name: ",Object(b.b)("inlineCode",{parentName:"p"},"ROBE")),Object(b.b)("hr",null),Object(b.b)("p",null,"Cloak is a universal pluggable transport that cryptographically obfuscates proxy traffic as legitimate HTTPS traffic, disguises the proxy server as a normal web server, multiplexes traffic through a fixed amount of TCP connections and provides multi-user usage control."),Object(b.b)("h1",{id:"dockerfiles"},"Dockerfiles"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"File name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Auto Build"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Github Action"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-cloak-server"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Alpine container with Cloak Server"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-cloak-client"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Alpine container with Cloak Client"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-shadowsocks-server"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Alpine container with ShadowSocks Server Golang"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-shadowsocks-client"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Alpine conatiner with ShadowSocks Client Golang"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u2705")))),Object(b.b)("h1",{id:"supported-variables"},"Supported variables"),Object(b.b)("h2",{id:"cloak-server"},"Cloak Server"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Key"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Default value"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"LOCAL_IP"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"127.0.0.1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Your server IP")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"LOCAL_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"12345"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Application listening port")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"METHOD"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"shadowsocks"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"BYPASSUID"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SB2SgfFS2LVew5OSF8L6Bw=="),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is a UID that is authorised without any bandwidth or credit limit restrictions")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"REDIRADDR"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1.0.0.1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the redirection address when the incoming traffic is not from a Cloak client")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"PRIVATEKEY"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"oMbG89FoR9RJGpCpOXe2hEe4DNaHt36tx2kU7F9ozEs="),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the static curve25519 Diffie-Hellman private key encoded in base64.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ADMINUID"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SB2SgfFS2LVew5OSF8L6Bw=="),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the UID of the admin user in base64")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"DOMAIN"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"example.com"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(b.b)("h2",{id:"cloak-client"},"Cloak Client"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Key"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Default value"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"TRANSPORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"direct"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"If the server host wishes you to connect to it directly, use direct.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"METHOD"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"shadowsocks"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the name of the proxy method you are using.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ENCRYPTION"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"plain"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the name of the encryption algorithm you want Cloak to use.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"CLIENTUID"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SB2SgfFS2LVew5OSF8L6Bw=="),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"PUBLICKEY"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"IYoUzkle/T/kriE+Ufdm7AHQtIeGnBWbhhlTbmDpUUI="),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the static curve25519 public key, given by the server admin")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SERVERNAME"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"example.com"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the domain you want to make your ISP or firewall think you are visiting.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"CONNECTIONNUM"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the amount of underlying TCP connections you want to use")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"BROWSER"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"chrome"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"is the browser you want to appear to be using. It's not relevant to the browser you are actually using. Currently, chrome and firefox are supported.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SERVER_IP"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"LOCAL_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"443"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ADMINUID"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SB2SgfFS2LVew5OSF8L6Bw=="),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(b.b)("h2",{id:"shadosocks-server"},"ShadoSocks Server"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Key"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Default value"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SERVER_IP"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"0.0.0.0"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Application listening IP")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SERVER_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"12345"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Application listening Port")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ENCRYPTION"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"AES-256-CFB"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Encryption Method")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"PASSWORD"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"password"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Your password")))),Object(b.b)("h2",{id:"shadowsocks-client"},"ShadowSocks Client"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Key"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Default value"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SERVER_IP"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"null")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"SERVER_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"null")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"LOCAL_IP"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"127.0.0.1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Should be your Server IP")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"LOCAL_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1080"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Socks5 Port")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ENCRYPTION"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"AES-256-CFB"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Encryption Method")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"PASSWORD"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"password"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"your password")))),Object(b.b)("h1",{id:"how-to-run-cloak-with-shadowsocks-server"},"How to run Cloak with Shadowsocks Server"),Object(b.b)("p",null,"To run the server stack you have two option:"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"use ",Object(b.b)("inlineCode",{parentName:"li"},"docker run")," command"),Object(b.b)("li",{parentName:"ol"},"use ",Object(b.b)("inlineCode",{parentName:"li"},"docker-compose up")," command")),Object(b.b)("p",null,"To run Cloak Server with ",Object(b.b)("inlineCode",{parentName:"p"},"docker run")," :"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"docker run --name cloak-server -d -p 443:443 -e LOCAL_IP='<YOUR SERVER IP>' --restart always mohsenmottaghi/cloak-shadowsocks:cloak-server\n")),Object(b.b)("p",null,"Then you need to run ShadowSocks Server :"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"docker run --name cloak-server -d -p 12345:12345 -e PASSWORD='<YOUR PASSWORD>' --restart always mohsenmottaghi/cloak-shadowsocks:shadowsocks-server\n")),Object(b.b)("p",null,"if you want to run this stack with ",Object(b.b)("inlineCode",{parentName:"p"},"docker-compose"),":"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"docker-compose up -d -f docker-compose-server.yaml\n")),Object(b.b)("h1",{id:"cloak-configuration"},"Cloak Configuration"),Object(b.b)("p",null,Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/cbeuw/Cloak/blob/master/README.md"}),"Cloak Manual - offical repo")),Object(b.b)("h3",{id:"server"},"Server"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"RedirAddr")," is the redirection address when the incoming traffic is not from a Cloak client. It should either be the same as, or correspond to the IP record of the ",Object(b.b)("inlineCode",{parentName:"p"},"ServerName")," field set in ",Object(b.b)("inlineCode",{parentName:"p"},"ckclient.json"),"."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"BindAddr")," is a list of addresses Cloak will bind and listen to (e.g. ",Object(b.b)("inlineCode",{parentName:"p"},'[":443",":80"]')," to listen to port 443 and 80 on all interfaces)"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"ProxyBook")," is a nested JSON section which defines the address of different proxy server ends. For instance, if OpenVPN server is listening on 127.0.0.1:1194, the pair should be ",Object(b.b)("inlineCode",{parentName:"p"},'"openvpn":"127.0.0.1:1194"'),". There can be multiple pairs. You can add any other proxy server in a similar fashion, as long as the name matches the ",Object(b.b)("inlineCode",{parentName:"p"},"ProxyMethod")," in the client config exactly (case-sensitive)."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"PrivateKey")," is the static curve25519 Diffie-Hellman private key encoded in base64."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"AdminUID")," is the UID of the admin user in base64."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"BypassUID")," is a list of UIDs that are authorised without any bandwidth or credit limit restrictions"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"DatabasePath")," is the path to userinfo.db. If userinfo.db doesn't exist in this directory, Cloak will create one automatically. ",Object(b.b)("strong",{parentName:"p"},"If Cloak is started as a Shadowsocks plugin and Shadowsocks is started with its working directory as / (e.g. starting ss-server with systemctl), you need to set this field as an absolute path to a desired folder. If you leave it as default then Cloak will attempt to create userinfo.db under /, which it doesn't have the permission to do so and will raise an error. See Issue #13.")),Object(b.b)("h3",{id:"client"},"Client"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"UID")," is your UID in base64."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Transport")," can be either ",Object(b.b)("inlineCode",{parentName:"p"},"direct")," or ",Object(b.b)("inlineCode",{parentName:"p"},"CDN"),". If the server host wishes you to connect to it directly, use ",Object(b.b)("inlineCode",{parentName:"p"},"direct"),". If instead a CDN is used, use ",Object(b.b)("inlineCode",{parentName:"p"},"CDN"),"."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"PublicKey")," is the static curve25519 public key, given by the server admin."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"ProxyMethod")," is the name of the proxy method you are using."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"EncryptionMethod")," is the name of the encryption algorithm you want Cloak to use. Note: Cloak isn't intended to provide transport security. The point of encryption is to hide fingerprints of proxy protocols and render the payload statistically random-like. If the proxy protocol is already fingerprint-less, which is the case for Shadowsocks, this field can be left as ",Object(b.b)("inlineCode",{parentName:"p"},"plain"),". Options are ",Object(b.b)("inlineCode",{parentName:"p"},"plain"),", ",Object(b.b)("inlineCode",{parentName:"p"},"aes-gcm")," and ",Object(b.b)("inlineCode",{parentName:"p"},"chacha20-poly1305"),"."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"ServerName")," is the domain you want to make your ISP or firewall think you are visiting."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"NumConn")," is the amount of underlying TCP connections you want to use. The default of 4 should be appropriate for most people. Setting it too high will hinder the performance. "),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"BrowserSig")," is the browser you want to ",Object(b.b)("strong",{parentName:"p"},"appear")," to be using. It's not relevant to the browser you are actually using. Currently, ",Object(b.b)("inlineCode",{parentName:"p"},"chrome")," and ",Object(b.b)("inlineCode",{parentName:"p"},"firefox")," are supported."),Object(b.b)("h1",{id:"shadowsocks-golang-configuration"},"ShadowSocks Golang Configuration"),Object(b.b)("p",null,Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/shadowsocks/go-shadowsocks2/blob/master/README.md"}),"Shadowsocks Manual - offical repo")),Object(b.b)("h3",{id:"server-1"},"Server"),Object(b.b)("p",null,"Start a server listening on port 8488 using ",Object(b.b)("inlineCode",{parentName:"p"},"AEAD_CHACHA20_POLY1305")," AEAD cipher with password ",Object(b.b)("inlineCode",{parentName:"p"},"your-password"),"."),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"go-shadowsocks2 -s 'ss://AEAD_CHACHA20_POLY1305:your-password@:8488' -verbose\n")),Object(b.b)("h3",{id:"client-1"},"Client"),Object(b.b)("p",null,"Start a client connecting to the above server. The client listens on port 1080 for incoming SOCKS5\nconnections, and tunnels both UDP and TCP on port 8053 and port 8054 to 8.8.8.8:53 and 8.8.4.4:53\nrespectively. "),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"go-shadowsocks2 -c 'ss://AEAD_CHACHA20_POLY1305:your-password@[server_address]:8488' \\\n    -verbose -socks :1080 -u -udptun :8053=8.8.8.8:53,:8054=8.8.4.4:53 \\\n                             -tcptun :8053=8.8.8.8:53,:8054=8.8.4.4:53\n")),Object(b.b)("p",null,"Replace ",Object(b.b)("inlineCode",{parentName:"p"},"[server_address]")," with the server's public address."),Object(b.b)("h2",{id:"github-ci"},"GitHub CI"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"File name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Github Action"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-cloak-server"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("img",Object(n.a)({parentName:"td"},{src:"https://github.com/mohsenmottaghi/cloak-shadowsocks-docker/workflows/Cloak%20Server%20Docker%20Image%20CI/badge.svg",alt:"Cloak Server Docker Image CI"})))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-cloak-client"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("img",Object(n.a)({parentName:"td"},{src:"https://github.com/mohsenmottaghi/cloak-shadowsocks-docker/workflows/Cloak%20Client%20Docker%20Image%20CI/badge.svg",alt:"Cloak Client Docker Image CI"})))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-shadowsocks-server"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("img",Object(n.a)({parentName:"td"},{src:"https://github.com/mohsenmottaghi/cloak-shadowsocks-docker/workflows/Shadowsocks%20Server%20Docker%20Image%20CI/badge.svg",alt:"Shadowsocks Server Docker Image CI"})))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Dockerfile-shadowsocks-client"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("img",Object(n.a)({parentName:"td"},{src:"https://github.com/mohsenmottaghi/cloak-shadowsocks-docker/workflows/Shadowsocks%20Client%20Docker%20Image%20CI/badge.svg",alt:"Shadowsocks Client Docker Image CI"})))))))}s.isMDXComponent=!0},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return j}));var n=a(0),r=a.n(n);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},b=Object.keys(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=r.a.createContext({}),s=function(e){var t=r.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):l({},t,{},e)),a},p=function(e){var t=s(e.components);return r.a.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},O=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,b=e.originalType,c=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),p=s(a),O=n,j=p["".concat(c,".").concat(O)]||p[O]||d[O]||b;return a?r.a.createElement(j,l({ref:t},i,{components:a})):r.a.createElement(j,l({ref:t},i))}));function j(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var b=a.length,c=new Array(b);c[0]=O;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:n,c[1]=l;for(var i=2;i<b;i++)c[i]=a[i];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}O.displayName="MDXCreateElement"}}]);